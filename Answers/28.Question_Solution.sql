SELECT L.CITY, COUNT(D.DEPARTMENT_ID) AS NUMBER_OF_DEPARTMENTS  
FROM DEPARTMENTS D, LOCATIONS L  
WHERE D.LOCATION_ID = L.LOCATION_ID  
GROUP BY L.CITY;